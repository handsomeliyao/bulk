部门管理
部门管理-查询
功能概述
支持超级管理员在内部客户端查询部门信息，可通过部门名称、部门状态筛选查询结果，记录操作日志。
状态流转
无
流程分析
1.用户登录系统后，打开部门管理页面，用户维护查询条件后，点击【查询】按钮，系统根据查询条件检索出符合条件的数据
原型设计
界面输入要素
字段名称
类型
必填
说明
部门名称
文本
否
最多只能输入50个字，其中最多包含20个汉字；文本框，支持模糊查询
部门状态
字典
否
单选框。枚举值：
全部/正常/注销
默认为空
界面输出要素
字段名称
类型
说明
部门名称
文本
长度50，页面显示最大20个汉字，超过长度显示为“…”
部门状态
字典
枚举值：正常（1）、注销（2）
备注
文本
长度500，页面显示最大20个汉字，超过长度显示为“…”
录入人
文本
长度20，显示用户名
录入时间
日期
格式：yyyy/mm/dd hh:mm:ss
更新人
文本
长度20，显示用户名
更新时间
日期
格式：yyyy/mm/dd hh:mm:ss
复核人
文本
长度20，显示用户名
复核时间
日期
格式：yyyy/mm/dd hh:mm:ss
操作
文本
详情、用户查询、新增、修改、注销
逻辑说明
根据审计日志规则记录操作日志；
部门名称支持模糊查询，部门状态默认空，可选正常或注销；
部门管理-详情
功能概述
支持超级管理员在部门查询后，查看指定部门的详细信息，包括部门基础信息、授权范围、操作范围及对外业务管理范围，记录操作日志。
状态流转
无
流程分析
1.用户完成部门查询操作，用户选择需要查看的部门记录，点击【详情】按钮
2.系统弹出部门详情查看页，展示部门的基础信息、授权范围、操作范围及对外业务管理范围
5.查看完成后，关闭详情页返回查询页面
原型设计
界面输入要素
无
界面输出要素
字段名称
类型
说明
部门名称
文本
长度50
部门状态
字典
枚举值：正常（1）、注销（2）
备注
文本
长度500，多行文本框
录入人
文本
长度20
录入时间
日期
格式：yyyy/mm/dd hh:mm:ss
更新人
文本
长度20
更新时间
日期
格式：yyyy/mm/dd hh:mm:ss
复核人
文本
长度20
复核时间
日期
格式：yyyy/mm/dd hh:mm:ss
操作权限
复选框
授权权限
复选框
逻辑说明
无
部门管理-下载
功能概述
支持超级管理员在部门查询后，下载导出查询结果数据，导出文件格式为.xls或.xlsx，记录操作日志。
状态流转
无
流程分析
1.用户完成部门查询操作，用户点击【下载】按钮，系统生成并下载导出文件，提示“下载成功。”
原型设计
界面输入要素
无
界面输出要素
无
逻辑说明
导出文件名：部门管理
部门管理-部门用户查询
功能概述
支持超级管理员在部门查询后，查看指定部门下属的用户信息，记录操作日志。
状态流转
无
流程分析
1.用户完成部门查询操作，用户选择需要查看的部门记录，点击【用户查询】按钮，系统弹出部门用户查看页
2.系统检索该部门下属用户信息并展示在页面中
原型设计
界面输入要素
无
界面输出要素
字段名称
类型
说明
用户名
文本
用户姓名
文本
用户类型
文本
用户状态
文本
逻辑说明
根据审计日志规则记录操作日志
部门管理-新增
功能概述
支持超级管理员在内部客户端新增部门信息，需录入部门基础信息、设置授权范围、操作范围及对外管理业务范围，生成申请记录待复核，记录操作日志。
状态流转
无
流程分析
用户登录系统后，打开部门管理页面，用户点击【新增】按钮
系统弹出新增页面
用户录入部门信息（部门名称、备注），设置权限范围后
用户点击【保存】按钮（点击【取消】则关闭页面，结束操作）
系统校验：部门名称是否为空（为空提示“请录入部门名称”）、部门名称是否重复（重复提示“部门名称已经存在，请查证后重新录入”）、是否指定授权范围（未指定提示“请指定部门的可授权范围”）、是否指定操作范围（未指定提示“请指定部门的可操作范围”）
校验通过后，系统新增部门申请记录及对应子数据，保存成功后提示“操作成功”
原型设计
界面输入要素
字段名称
类型
必填
说明
部门名称
文本
是
长度400，唯一
备注
文本
否
长度500，多行文本框
权限树
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
部门名称是否为空（为空提示“请录入部门名称”）、
部门名称是否重复（重复提示“部门名称已经存在，请查证后重新录入”）
是否指定授权范围（未指定提示“请指定部门的可授权范围”）
是否指定操作范围（未指定提示“请指定部门的可操作范围”）
部门管理-修改
功能概述
支持超级管理员在部门查询后，修改状态为“正常”的部门信息，生成修改申请记录待复核（需无该部门待复核申请），记录操作日志。
状态流转
无
流程分析
用户完成部门查询操作，选择一条部门记录，点击【修改】按钮
系统校验：是否选中一条记录（未选中提示“请选择一条记录进行操作”）、部门状态是否为正常（注销状态提示“不能修改注销状态的部门信息”）、该部门是否存在待复核申请（存在提示“存在待复核申请记录，请先复核后再进行操作”）
校验通过后，系统弹出部门修改页，加载该部门原有信息及授权范围、操作范围、对外管理业务范围分页数据（已拥有的权限/范围显示为已选择状态）
用户修改部门信息及相关范围设置
用户点击【保存】按钮（点击【取消】则关闭页面，结束操作）
系统校验：是否修改数据（未修改提示“请修改数据后再保存”）、部门名称是否为空（为空提示“请录入部门名称”）、部门名称是否重复（重复提示“部门名称已经存在，请查证后重新录入”）、是否指定授权范围（未指定提示“请指定部门的可授权范围”）、是否指定操作范围（未指定提示“请指定部门的可操作范围”）
校验通过后，系统新增修改部门申请记录及对应子数据，保存成功后提示“操作成功”
原型设计
界面输入要素
同“部门管理-新增（申请）”界面输入要素
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
无。
部门管理-注销
功能概述
支持超级管理员在部门查询后，注销状态为“正常”的部门，生成注销申请记录待复核（需无该部门待复核申请），记录操作日志。
状态流转
无
流程分析
用户完成部门查询操作，用户选择一条部门记录，点击【注销】按钮
系统校验：是否选中一条记录（未选中提示“请选择一条记录进行操作”）、部门状态是否为正常（注销状态提示“该部门状态已是注销状态不能进行注销操作”）、该部门是否存在待复核申请（存在提示“存在待复核申请记录，请先复核后再进行操作”）
校验通过后，系统新增注销申请记录，保存成功后提示“操作成功”
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
无
部门申请管理
部门申请管理-已复核查询
功能概述
支持超级管理员查询本部门已复核状态（复核通过）的部门申请记录，可通过日期、申请编号、部门名称、操作类型筛选，记录操作日志。
状态流转
无
流程分析
1.用户登录系统后，打开部门申请管理页面，用户选择【已复核】分页，维护查询条件（开始日期、结束日期、申请编号、部门名称、操作类型）
3.用户点击【查询】按钮
4.系统检索出符合条件的本部门申请数据，系统将查询结果分页展示在页面中（默认按【申请日期】升序排序，日期相同时按【申请编号】升序排序）
原型设计
界面输入要素
字段名称
类型
必填
说明
开始日期
日期
否
格式：yyyy/mm/dd，默认系统当前日期，日历控件
结束日期
日期
否
格式：yyyy/mm/dd，默认系统当前日期，日历控件
申请编号
文本
否
长度20，文本框，默认为空
部门名称
文本
否
最多只能输入50个字，其中最多包含20个汉字；文本框，支持模糊查询
操作类型
字典
否
单选框枚举值：全部/新增/修改/注销
默认全部勾选
申请状态
字典
否
单选框枚举值：复核通过
下拉框，不可编辑
申请状态
字典
否
下拉框；枚举值：2-复核通过；不可编辑
界面输出要素
字段名称
类型
说明
申请编号
文本
长度20
申请日期
日期
格式：yyyy/mm/dd
操作类型
字典
枚举值：新增（1）、修改（2）、注销（3）
部门名称
文本
无
部门状态
字典
无
备注
文本
长度500
申请人
文本
长度20
申请时间
日期
格式：yyyy/mm/dd hh:mm:ss
复核人
文本
长度20
复核时间
日期
格式：yyyy/mm/dd hh:mm:ss
撤销时间
日期
格式：yyyy/mm/dd hh:mm:ss
申请状态
字典
枚举值：复核通过（2）
逻辑说明
无
部门申请管理-待复核查询
功能概述
支持超级管理员查询本部门待复核状态（待复核、复核拒绝、已撤销）的部门申请记录，可通过日期、申请编号、部门名称、操作类型筛选，记录操作日志。
状态流转
无
流程分析
1.用户登录系统后，打开部门申请管理页面
2.用户选择【待复核】分页，维护查询条件，点击【查询】按钮
3.系统检索出符合条件的本部门申请数据，将查询结果分页展示在页面中（默认按【申请日期】升序排序，日期相同时按【申请编号】升序排序）
4.操作结束后，系统按审计日志规则记录操作行为
原型设计
界面输入要素
字段名称
类型
必填
说明
开始日期
日期
否
格式：yyyy/mm/dd，默认系统当前日期，日历控件
结束日期
日期
否
格式：yyyy/mm/dd，默认系统当前日期，日历控件
申请编号
文本
否
长度20，文本框，默认为空
部门名称
文本
否
最多只能输入50个字，其中最多包含20个汉字；文本框，支持模糊查询
操作类型
字典
否
单选框枚举值：全部/新增/修改/注销
默认全部勾选
申请状态
字典
否
单选框枚举值：全部/待复核/复核拒绝/已撤销
默认全部勾选
申请状态
字典
否
下拉框；枚举值：1-待复核、3-复核拒绝、4-已撤销；默认全部勾选
界面输出要素
同“已复核查询”界面输出要素
逻辑说明
无
部门申请管理-下载
功能概述
支持超级管理员在已复核查询/待复核查询后，下载导出查询结果数据，导出文件格式为.xls或.xlsx，记录操作日志。
状态流转
无
流程分析
1.用户完成已复核查询或待复核查询操作，点击【下载】按钮，系统校验当前查询条件后导出Excel文件，提示“下载成功。”
2.操作结束后，系统按审计日志规则记录操作行为
原型设计
界面输入要素
无
界面输出要素
无
逻辑说明
文件名：部门申请信息
部门申请管理-撤销
功能概述
支持超级管理员撤销本人提交的待复核状态的部门申请记录，记录操作日志。
状态流转
待复核→ 已撤销
流程分析
用户完成待复核查询操作，指定一条需要撤销的申请记录，点击【撤销】按钮
系统校验：申请记录状态是否为待复核（非待复核提示“申请记录状态不可进行撤销操作，请查证后重新操作”）、当前操作用户与申请人是否一致（不一致提示“操作用户仅能撤销本人提交的申请”）
校验通过后，系统更新申请记录状态为“已撤销”，保存成功后提示“操作成功”
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因
逻辑说明
无
部门申请管理-录入复核
功能概述
当系统参数【数据复核方式】为【录入复核】且申请操作类型不为【注销】时，支持超级管理员复核他人提交的待复核状态部门申请记录（需录入复核数据与申请数据一致），记录操作日志。
状态流转
待复核→ 复核通过/复核拒绝
流程分析
复核人在待复核查询结果页面，选择一条待复核的申请记录，点击【复核】按钮，系统执行前置校验：
校验申请状态：非“待复核”提示“仅能对待复核状态数据进行复核操作，请重新选择记录进行复核操作。”
校验操作用户：与申请人一致提示“不能复核自己提交的申请记录。”
校验通过，系统根据申请操作类型弹出对应录入复核页面：
操作类型为“新增”：页面同新增岗位页面，加载原申请数据
操作类型为“修改”：页面同修改岗位页面，加载原岗位修改前数据及权限树
复核人重新录入/调整岗位信息及操作范围
点击【保存】按钮，系统校验录入数据与原申请数据一致性：
不一致：提示“录入复核维护数据与申请数据不一致，复核失败。”，关闭弹窗
一致：系统更新申请记录状态为“复核通过”，记录复核人及复核时间
提示“操作成功”，关闭复核页面，系统按审计日志规则记录操作行为
原型设计
界面输入要素
同“新增部门”或“修改部门”的界面输入要素
界面输出要素
系统提示操作成功或错误原因
逻辑说明
无