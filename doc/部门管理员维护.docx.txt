部门管理员维护
部门管理员维护-查询
功能概述
支持超级管理员、部门管理员在内部客户端查询部门管理员用户信息，按角色权限过滤查询结果。
状态流转
无
流程分析
用户登录系统后，打开部门管理员维护页面，根据查询条件，点击【查询】按钮，系统按角色权限检索符合条件的数据。
原型设计
界面输入要素
字段名称
类型
必填
说明
用户名
文本
否
文本框，支持模糊查询，长度30字符
用户姓名
文本
否
文本框，支持模糊查询，最多30字（含10个汉字上限）
用户状态
字典
否
单选下拉框，枚举值：1-正常、2-冻结、3-注销、4-密码重置，默认为空
界面输出要素
字段名称
类型
说明
部门名称
文本
长度50字符，页面显示最大20个汉字，超量显示“…”
用户名
文本
长度30字符
用户姓名
文本
长度30字符
办公电话
文本
长度32字符
手机
文本
长度32字符
用户状态
字典
枚举值：1-正常、2-冻结、3-注销、4-密码重置
备注
文本
长度500字符，页面显示最大20个汉字，超量显示“…”
录入人
文本
长度20字符，显示用户名
录入时间
时间
格式：yyyy/mm/dd hh:mm:ss
更新人
文本
长度20字符，显示用户名
更新时间
时间
格式：yyyy/mm/dd hh:mm:ss
复核人
文本
长度20字符，显示用户名
复核时间
时间
格式：yyyy/mm/dd hh:mm:ss
操作
文本
详情、新增、修改、冻结、解冻、注销、重置密码、绑定证书
逻辑说明
超级管理员查询全部符合条件的部门管理员数据；部门管理员仅查询本部门的部门管理员数据。
部门管理员维护-详情
功能概述
支持超级管理员、部门管理员查看部门管理员用户的详细信息，含基本信息、授权范围、操作范围及刷新权限功能。
状态流转
无
流程分析
用户在查询结果中选择一条记录，点击【详情】按钮。
系统弹出用户详情页，加载指定用户的基本信息、授权范围、操作范围数据。
用户可点击【刷新权限】按钮触发权限刷新，更新权限选中状态。
原型设计
界面输入要素
无
界面输出要素
字段名称
类型
说明
部门名称
文本
长度50字符
用户名
文本
长度30字符
用户姓名
文本
长度30字符
办公电话
文本
长度32字符
手机
文本
长度32字符
用户状态
字典
枚举值：1-正常、2-冻结、3-注销、4-密码重置
备注
文本
长度500字符，多行文本框
录入人/更新人/复核人
文本
长度20字符，显示用户名
录入时间/更新时间/复核时间
时间
格式：yyyy/mm/dd hh:mm:ss
操作权限树
授权权限树
逻辑说明
授权范围加载所有内部终端的业务类菜单及按钮，操作范围加载所有内部终端的管理类菜单及按钮，按子系统分组、排序编号升序展示。
超级管理员权限为所有子系统权限按钮；部门管理员权限与本部门权限一致。
刷新权限时，按用户所属部门权限的“授权类型”匹配选中状态，授权类对应授权范围，操作类对应操作范围。
操作日志按审计规则记录，操作内容为“查看【用户名】用户详情信息”。
部门管理员维护-下载
功能概述
支持超级管理员、部门管理员下载导出部门管理员查询结果数据，仅查询有结果时可操作。
状态流转
无
流程分析
用户完成查询操作后，点击【下载】按钮，系统根据查询条件，查询后生成并下载导出文件，提示“下载成功”。
原型设计
界面输入要素
无
界面输出要素
无
逻辑说明
导出文件名为“部门管理员信息。
部门管理员维护-新增
功能概述
支持超级管理员在内部客户端提交新增部门管理员的申请，需录入必填信息并通过系统校验。
状态流转
无
流程分析
用户打开部门管理员维护页面，点击【新增】按钮。系统弹出新增页面，用户录入要素信息。
用户点击【保存】按钮，系统做如下校验：
校验部门名称、用户名、用户姓名是否填写。
系统校验用户名是否重复（含待复核数据），证书信息长度是否合规。
校验通过则新增申请记录，提示“操作成功”，关闭新增页面；校验失败则提示对应错误信息，返回重新录入。
原型设计
界面输入要素
字段名称
类型
必填
说明
部门名称
文本
是
下拉框，选项为状态正常的部门，长度50字符
用户名
文本
是
长度30字符，不可重复
用户姓名
文本
是
长度30字符
办公电话
文本
否
长度32字符
手机
文本
否
长度32字符
用户类型
文本
是
下拉框，枚举值含2-部门管理员，默认部门管理员，不可编辑
用户状态
文本
是
下拉框，枚举值：1-正常、2-冻结、3-注销、4-密码重置，默认密码重置，不可编辑
备注
文本
否
长度500字符，多行文本
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
新增申请记录生成唯一申请编号（建议YYYYMMDD+6位流水号），申请状态默认为【待复核】，所属机构默认填入上海清算所机构编号“0000000”。
操作日志按审计规则记录，操作内容为“新增【用户名】申请成功”。
部门管理员维护-修改
功能概述
支持超级管理员提交修改部门管理员信息的申请，仅可修改正常或密码重置状态的用户，且无待复核申请记录。
状态流转
无
流程分析
用户在查询结果中选择一条记录，点击【修改】按钮。
系统校验是否选中一条记录、用户状态是否为正常或密码重置、是否存在待复核申请。
校验通过则弹出修改页面，加载当前用户信息；校验失败则提示对应错误信息。
用户修改信息后点击【保存】，系统校验用户姓名是否填写、数据是否有变更。
校验通过则新增修改申请记录，提示“操作成功”，关闭修改页面；失败则提示错误信息。
原型设计
界面输入要素
字段名称
类型
必填
说明
部门名称
文本
是
下拉框，反显当前部门，不可编辑，长度50字符
用户名
文本
是
反显当前用户名，不可编辑，长度30字符
用户姓名
文本
是
长度30字符，可修改
办公电话
文本
否
长度32字符，可修改
手机
文本
否
长度32字符，可修改
用户类型
文本
是
下拉框，反显当前类型，不可编辑
用户状态
文本
是
下拉框，反显当前状态，不可编辑
备注
文本
否
长度500字符，多行文本，可修改
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
修改申请记录的申请编号、所属机构等规则与新增申请一致，操作类型默认为【修改】。
未修改数据时点击【保存】，系统提示“请修改数据后再保存”。。
部门管理员维护-冻结
功能概述
支持超级管理员、部门管理员提交冻结部门管理员的申请，仅可冻结正常状态、无待复核申请且非本人的用户。
状态流转
正常→冻结
流程分析
用户在查询结果中选择一条记录，点击【冻结】按钮。
系统校验是否选中记录、用户状态是否为正常、是否存在待复核申请、是否为本人操作。
校验通过则新增冻结申请记录，提示“操作成功”；失败则提示对应错误信息（如“用户不能变更自己的状态”）。
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
冻结申请记录的申请类型默认为【冻结】，其他申请数据规则与新增申请一致。
操作日志按审计规则记录，操作内容为“冻结【用户名】申请成功”。
部门管理员维护-解冻
功能概述
支持超级管理员、部门管理员提交解冻部门管理员的申请，仅可解冻冻结状态、无待复核申请且非本人的用户。
状态流转
无
流程分析
用户在查询结果中选择一条记录，点击【解冻】按钮。
系统校验是否选中记录、用户状态是否为冻结、是否存在待复核申请、是否为本人操作。
校验通过则新增解冻申请记录，提示“操作成功”；失败则提示对应错误信息（如“该用户状态已是非冻结状态不能进行解冻操作”）。
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
解冻申请记录的申请类型默认为【解冻】，其他申请数据规则与新增申请一致。
操作日志按审计规则记录，操作内容为“解冻【用户名】申请成功”。
部门管理员维护-重置密码
功能概述
支持超级管理员、部门管理员提交重置部门管理员密码的申请，仅可重置正常状态、无待复核申请且非本人的用户。
状态流转
无
流程分析
用户在查询结果中选择一条记录，点击【重置密码】按钮。
系统校验是否选中记录、用户状态是否为正常、是否存在待复核申请、是否为本人操作。
校验通过则新增重置密码申请记录，提示“操作成功”；失败则提示对应错误信息（如“该用户状态已是非正常状态不能进行重置密码操作”）。
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
重置密码申请记录的申请类型默认为【重置密码】，其他申请数据规则与新增申请一致。
复核通过后，用户密码更新为系统初始默认密码，状态变更为【密码重置】。
部门管理员维护-注销
功能概述
支持超级管理员、部门管理员提交注销部门管理员的申请，仅可注销正常或密码重置状态、无待复核申请且非本人的用户。
状态流转
正常/密码重置→注销
流程分析
用户在查询结果中选择一条记录，点击【注销】按钮。
系统校验是否选中记录、用户状态是否为正常或密码重置、是否存在待复核申请、是否为本人操作。
校验通过则新增注销申请记录，提示“操作成功”；失败则提示对应错误信息。
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
注销申请记录的申请类型默认为【注销】，其他申请数据规则与新增申请一致。
操作日志按审计规则记录，操作内容为“注销【用户名】申请成功”。
部门管理员维护-绑定证书
功能概述
支持超级管理员、部门管理员提交部门管理员绑定/解除证书的申请，仅可操作正常或密码重置状态、无待复核申请的用户。
状态流转
无
流程分析
用户在查询结果中选择一条记录，点击【绑定证书】按钮。
系统校验是否选中记录、用户状态是否为正常或密码重置、是否存在待复核申请。
校验通过则弹出证书绑定页，加载用户所属机构下全部证书，已绑定证书默认选中。
用户选择需绑定/解除的证书后点击【保存】，系统校验是否有数据修改。
校验通过则新增绑定证书申请记录，提示“操作成功”；失败则提示对应错误信息（如“请修改数据后再保存”）。
原型设计
界面输入要素
字段名称
类型
必填
说明
证书DN
文本
否
文本框，支持模糊查询，长度500字符
界面输出要素
字段名称
类型
说明
证书DN
文本
长度500字符
持证机构
文本
显示“参与人编号+参与人简称”
证书算法
字典
长度3字符
证书状态
字典
长度3字符
有效期开始日期
日期
格式：YYYY/MM/DD
有效期结束日期
日期
格式：YYYY/MM/DD
逻辑说明
绑定证书申请记录生成唯一申请编号，同时生成1..M条证书绑定子记录（关联申请编号、用户id、证书DN）。
操作日志按审计规则记录，操作内容为“【用户名】绑定证书申请成功”。
部门管理员申请管理
部门管理员申请管理-已复核查询
功能概述
支持超级管理员、部门管理员查询已复核状态的部门管理员申请记录，仅可查询本部门申请数据。
状态流转
无
流程分析
1.用户打开部门管理员申请管理页面，选择【已复核】分页,用户输入查询条件，点击【查询】按钮，系统检索符合条件的已复核申请数据。
原型设计
界面输入要素
字段名称
类型
必填
说明
开始日期
日期
否
日历控件，格式yyyy/mm/dd，默认当前日期
结束日期
日期
否
日历控件，格式yyyy/mm/dd，默认当前日期
申请编号
文本
否
文本框，长度20字符，默认为空
部门名称
文本
否
文本框，支持模糊查询，长度50字符
用户名
文本
否
文本框，长度30字符
用户姓名
文本
否
文本框，支持模糊查询，最多30字（含10个汉字上限）
用户类型
文本
否
下拉框，枚举值：2-部门管理员、3-部门操作员、7-直联用户，默认全部勾选
操作类型
字典
否
下拉框，枚举值：1-新增、2-修改、3-注销等8类，默认全部勾选
申请状态
字典
否
下拉框，枚举值：2-复核通过，不可编辑
界面输出要素
字段名称
类型
说明
申请编号
文本
长度20字符
申请日期
日期
格式：yyyy/mm/dd
操作类型
字典
长度3字符，对应枚举值描述
部门名称
文本
长度50字符
用户名
文本
长度30字符
用户姓名
文本
长度30字符
办公电话/手机
文本
长度32字符
用户类型/用户状态
字典
长度3字符，对应枚举值描述
备注
文本
长度500字符
申请人/复核人
文本
长度20字符
申请时间/复核时间/撤销时间
时间
格式：yyyy/mm/dd hh:mm:ss
申请状态
字典
长度3字符，显示“复核通过”
逻辑说明
查询结果按【申请日期】升序排序，日期相同时按【申请编号】升序排序，分页显示。
已复核分页不显示【复核】和【撤销】按钮。
操作日志按审计规则记录，操作内容为“查询已复核的用户申请”。
部门管理员申请管理-待复核查询
功能概述
支持超级管理员、部门管理员查询待复核、复核拒绝、已撤销状态的部门管理员申请记录，仅可查询本部门申请数据。
状态流转
无
流程分析
1.用户打开部门管理员申请管理页面，选择【待复核】分页,输入查询条件后，点击【查询】按钮，系统检索符合条件的申请数据。
2.操作结束后，系统按审计日志规则记录操作行为
原型设计
界面输入要素
字段名称
类型
必填
说明
申请状态
字典
否
下拉框，枚举值：1-待复核、3-复核拒绝、4-已撤销，默认全部勾选
其他字段
同已复核查询
同已复核查询
同已复核查询
界面输出要素
同“已复核查询”界面输出要素
逻辑说明
查询结果排序、分页规则与已复核查询一致。
待复核分页显示【复核】和【撤销】按钮。
操作日志按审计规则记录，操作内容为“查询待复核的用户申请”。
部门管理员申请管理-下载
功能概述
支持超级管理员、部门管理员下载导出已复核/待复核查询结果数据。
状态流转
无
流程分析
1.1.用户完成已复核或待复核查询后，点击【下载】按钮，系统根据现有查询条件查询后生成excel文件，并提示“下载成功”。
2.操作结束后，系统按审计日志规则记录操作行为
原型设计
界面输入要素
无
界面输出要素
无
逻辑说明
文件名：部门管理员申请信息
部门管理员申请管理-撤销
功能概述
支持超级管理员、部门管理员撤销本人提交的待复核状态的部门管理员申请记录。
状态流转
待复核→ 已撤销
流程分析
操作员在待复核查询结果页面，选择一条本人提交的申请记录，点击【撤销】按钮，系统执行前置校验：
校验申请状态：非“待复核”提示“申请记录状态不可进行撤销操作，请查证后重新操作。”
校验操作用户：非申请人提示“操作用户仅能撤销本人提交的申请。”
校验通过，系统更新申请记录状态为“已撤销”，记录撤销时间及操作人信息
提示“操作成功。”，系统按审计日志规则记录操作行为
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因
逻辑说明
无
部门管理员申请管理-录入复核
功能概述
当系统参数为“录入复核”，且申请类型为新增、修改、分配权限、绑定证书时，支持超级管理员、部门管理员通过录入数据完成复核。
状态流转
待复核→ 复核通过/复核拒绝
流程分析
复核人在待复核查询结果页面，选择一条待复核的申请记录，点击【复核】按钮，系统执行前置校验：
校验申请状态：非“待复核”提示“仅能对待复核状态数据进行复核操作，请重新选择记录进行复核操作。”
校验操作用户：与申请人一致提示“不能复核自己提交的申请记录。”
校验通过，系统根据申请操作类型弹出对应录入复核页面：
操作类型为“新增”：页面同新增页面，加载原申请数据
操作类型为“修改”：页面同修改页面，加载修改前数据
复核人重新录入/调整信息
点击【保存】按钮，系统校验录入数据与原申请数据一致性：
不一致：提示“录入复核维护数据与申请数据不一致，复核失败。”，关闭弹窗
一致：系统更新申请记录状态为“复核通过”，记录复核人及复核时间
按申请操作类型执行后续数据处理：
新增申请：创建部门管理员记录
修改申请：更新部门管理员信息
提示“操作成功”，关闭复核页面，系统按审计日志规则记录操作行为
原型设计
界面输入要素
同“新增部门管理员”或“修改部门管理员”的界面输入要素
界面输出要素
系统提示操作成功或错误原因
逻辑说明
无