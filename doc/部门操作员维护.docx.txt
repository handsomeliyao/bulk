部门操作员维护
部门操作员维护-查询
功能概述
支持部门管理员在内部客户端查询本部门操作员信息，查询结果仅展示用户类型为部门操作员且与操作用户同部门的数据。
状态流转
无
流程分析
部门管理员登录系统后，点击用户与权限管理模块下的部门操作员维护菜单。
系统打开部门操作员维护页面，默认加载本部门符合条件的操作员数据。
管理员选择查询条件，点击【查询】按钮。系统根据查询条件展示符合条件的数据。
原型设计
界面输入要素
字段名称
类型
必填
说明
用户名
文本
否
文本框，支持模糊查询，长度限制30字符
用户姓名
文本
否
文本框，支持模糊查询，最多输入30字（含10个汉字上限）
用户状态
字典
否
单选框，枚举值：1-正常、2-冻结、3-注销、4-密码重置，默认为空
界面输出要素
字段名称
类型
说明
部门名称
文本
长度50字符，页面最多显示20个汉字，超出显示“…”
用户名
文本
长度30字符
用户姓名
文本
长度30字符
办公电话
文本
长度32字符
手机
文本
长度32字符
用户状态
字典
枚举值：1-正常、2-冻结、3-注销、4-密码重置
备注
文本
长度500字符，页面最多显示20个汉字，超出显示“…”
录入人
文本
长度20字符，显示用户名
录入时间
时间
格式：yyyy/mm/dd hh:mm:ss
更新人
文本
长度20字符，显示用户名
更新时间
时间
格式：yyyy/mm/dd hh:mm:ss
复核人
文本
长度20字符，显示用户名
复核时间
时间
格式：yyyy/mm/dd hh:mm:ss
操作
文本
详情、修改、冻结、解冻、注销、分配权限、重置密码、绑定证书
逻辑说明
查询数据需满足用户类型为部门操作员，且与操作用户所属部门一致。
操作日志按审计规则记录，操作系统为内部管理，操作功能为部门操作员维护，操作类型为查询。
支持模糊查询，用户名、用户姓名输入后可匹配相关结果。
部门操作员维护-详情
功能概述
支持部门管理员在内部客户端查看本部门操作员的详细信息，包括基本信息、备选岗位及岗位权限明细。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，通过查询筛选出目标操作员记录。选中一条记录，点击【详情】按钮。
系统弹出用户详情查看页，加载用户信息、备选岗位及权限明细。
管理员可点击【刷新权限】按钮更新权限展示，点击【关闭】返回查询页面。
原型设计
界面输入要素
无
界面输出要素
字段名称
类型
说明
部门名称
文本
长度50字符
用户名
文本
长度30字符
用户姓名
文本
长度30字符
办公电话
文本
长度32字符
手机
文本
长度32字符
用户状态
字典
枚举值：1-正常、2-冻结、3-注销、4-密码重置
备注
文本
长度500字符
岗位名称
文本
长度50字符，显示所属部门状态正常且类型为内部的岗位
操作权限树
逻辑说明
用户信息区域加载操作员基本信息；备选岗位区域显示所属部门符合条件的岗位，已拥有岗位标注选中状态。
操作权限范围按子系统分组，按菜单排序编号升序展示，仅加载所属部门授权类型为操作的数据。
操作日志按审计规则记录，操作内容为“查看【用户名】用户详情信息”。
刷新权限功能可重新匹配用户岗位对应的权限明细，已选岗位权限显示为选中状态。
部门操作员维护-下载
功能概述
支持部门管理员在内部客户端下载导出部门操作员查询结果数据。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，完成查询操作。
点击【下载】按钮，系统根据查询条件查询后，生成并下载Excel文件，并提示“下载成功”。
原型设计
界面输入要素
无
界面输出要素
无
逻辑说明
导出文件名为“部门操作员信息”。
部门操作员维护-新增
功能概述
支持部门管理员在内部客户端新增本部门操作员信息，新增操作需提交申请并经复核后生效。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，点击【新增】按钮。
系统弹出新增页面，默认填充部门名称（不可编辑）、用户类型（部门操作员，不可编辑）、用户状态（密码重置，不可编辑）。
管理员录入用户名、用户姓名、办公电话、手机、备注等信息。
点击【保存】按钮，系统校验用户名、用户姓名是否必填，用户名是否重复。
校验通过后，生成新增申请记录（状态为待复核），提示“操作成功”；校验失败则提示对应错误信息。
原型设计
界面输入要素
字段名称
类型
必填
说明
部门名称
文本
是
下拉框，默认操作用户所属部门，不可编辑，长度50字符
用户名
文本
是
长度30字符，不可重复
用户姓名
文本
是
长度30字符
办公电话
文本
否
长度32字符
手机
文本
否
长度32字符
用户类型
文本
是
下拉框，默认部门操作员，不可编辑，枚举值：3-部门操作员
用户状态
文本
是
下拉框，默认密码重置，不可编辑，枚举值：4-密码重置
备注
文本
否
多行文本，长度500字符
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
新增申请记录生成唯一申请编号（建议格式：YYYYMMDD+6位流水号），所属机构默认填入上海清算所机构编号“0000000”。
申请数据包含申请人信息、申请日期时间、申请状态（待复核）等，复核相关字段默认为空。
操作日志按审计规则记录，操作内容为“新增【用户名】申请成功”。
用户名需校验唯一性，需排除上海清算所下属用户及待复核申请中的重复数据。
部门操作员维护-修改
功能概述
支持部门管理员在内部客户端修改本部门正常或密码重置状态的操作员信息，修改操作需提交申请并经复核后生效。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，查询并选中一条目标记录。
点击【修改】按钮，系统校验是否选中一条记录、用户状态是否为正常或密码重置、是否存在待复核申请。
校验通过后，系统弹出修改页面，反显部门名称、用户名、用户类型、用户状态（均不可编辑）及其他可修改信息。
管理员修改用户姓名、办公电话、手机、备注等信息，点击【保存】按钮。
系统校验数据是否修改、用户姓名是否必填，校验通过生成修改申请记录（状态为待复核），提示“操作成功”。
原型设计
界面输入要素
字段名称
类型
必填
说明
部门名称
文本
是
下拉框，反显不可编辑，长度50字符
用户名
文本
是
反显不可编辑，长度30字符
用户姓名
文本
是
长度30字符
办公电话
文本
否
长度32字符
手机
文本
否
长度32字符
用户类型
文本
是
下拉框，反显不可编辑，枚举值：3-部门操作员
用户状态
文本
是
下拉框，反显不可编辑，枚举值：1-正常、4-密码重置
备注
文本
否
多行文本，长度500字符
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
仅能修改状态为正常或密码重置的操作员信息，非正常状态不可修改。
若操作员存在待复核申请记录，需复核通过或撤销后才可提交修改申请。
申请记录生成唯一申请编号，操作日志按审计规则记录，操作内容为“修改【用户名】申请成功”。
未修改数据时点击保存，系统提示“请修改数据后再保存”。
部门操作员维护-冻结
功能概述
支持部门管理员在内部客户端冻结本部门状态为正常的操作员，冻结操作需提交申请并经复核后生效，操作员不可冻结自身。
状态流转
正常→冻结
流程分析
部门管理员进入“部门操作员维护”界面，查询并选中一条目标记录。
点击【冻结】按钮，系统校验是否选中一条记录、用户状态是否为正常、是否存在待复核申请、操作用户与目标用户是否一致。
校验通过后，生成冻结申请记录（状态为待复核），提示“操作成功”；校验失败则提示对应错误信息。
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
仅能冻结状态为正常的操作员，且操作用户与目标用户不可为同一人。
目标操作员存在待复核申请记录时，不可提交冻结申请。
申请记录生成唯一申请编号，操作日志按审计规则记录，操作内容为“冻结【用户名】申请成功”。
复核通过后，操作员状态更新为冻结，若在线则强制注销登录。
部门操作员维护-解冻
功能概述
支持部门管理员在内部客户端解冻本部门状态为冻结的操作员，解冻操作需提交申请并经复核后生效，操作员不可解冻自身。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，查询并选中一条状态为冻结的记录。
点击【解冻】按钮，系统校验是否选中一条记录、用户状态是否为冻结、是否存在待复核申请、操作用户与目标用户是否一致。
校验通过后，生成解冻申请记录（状态为待复核），提示“操作成功”；校验失败则提示对应错误信息。
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
仅能解冻状态为冻结的操作员，且操作用户与目标用户不可为同一人。
目标操作员存在待复核申请记录时，不可提交解冻申请。
申请记录生成唯一申请编号，操作日志按审计规则记录，操作内容为“解冻【用户名】申请成功”。
复核通过后，操作员状态更新为密码重置。
部门操作员维护-重置密码
功能概述
支持部门管理员在内部客户端为本部门状态为正常的操作员重置密码，重置操作需提交申请并经复核后生效，操作员不可重置自身密码。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，查询并选中一条状态为正常的记录。
点击【重置密码】按钮，系统校验是否选中一条记录、用户状态是否为正常、是否存在待复核申请、操作用户与目标用户是否一致。
校验通过后，生成重置密码申请记录（状态为待复核），提示“操作成功”；校验失败则提示对应错误信息。
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
仅能为状态为正常的操作员重置密码，且操作用户与目标用户不可为同一人。
目标操作员存在待复核申请记录时，不可提交重置密码申请。
申请记录生成唯一申请编号，操作日志按审计规则记录，操作内容为“重置密码【用户名】申请成功”。
复核通过后，操作员状态更新为密码重置，密码恢复为系统初始默认密码，需强制修改后重新登录。
部门操作员维护-注销
功能概述
支持部门管理员在内部客户端注销本部门状态为正常或密码重置的操作员，注销操作需提交申请并经复核后生效，操作员不可注销自身。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，查询并选中一条目标记录。
点击【注销】按钮，系统校验是否选中一条记录、用户状态是否为正常或密码重置、是否存在待复核申请、操作用户与目标用户是否一致。
校验通过后，生成注销申请记录（状态为待复核），提示“操作成功”；校验失败则提示对应错误信息。
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因。
逻辑说明
仅能注销状态为正常或密码重置的操作员，且操作用户与目标用户不可为同一人。
目标操作员存在待复核申请记录时，不可提交注销申请。
申请记录生成唯一申请编号，操作日志按审计规则记录，操作内容为“注销【用户名】申请成功”。
复核通过后，操作员状态更新为注销，若在线则强制注销登录，状态不可恢复。
部门操作员维护-绑定证书
功能概述
支持部门管理员在内部客户端为本部门状态为正常或密码重置的操作员绑定或解除证书，绑定操作需提交申请并经复核后生效。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，查询并选中一条目标记录。
点击【绑定证书】按钮，系统校验是否选中一条记录、用户状态是否为正常或密码重置、是否存在待复核申请。
校验通过后，系统弹出证书绑定页，加载目标用户所属机构下的全部证书，已绑定证书标注选中状态。
管理员选择需绑定或解除的证书，点击【保存】按钮，系统校验是否修改数据，校验通过生成绑定证书申请记录（状态为待复核），提示“操作成功”。
原型设计
界面输入要素
字段名称
类型
必填
说明
证书DN
文本
否
文本框，支持模糊查询，长度500字符
界面输出要素
字段名称
类型
说明
证书DN
文本
长度500字符
持证机构
文本
显示“参与人编号+参与人简称”
证书算法
字典
长度3字符
证书状态
字典
长度3字符
有效期开始日期
日期
格式：YYYY/MM/DD
有效期结束日期
日期
格式：YYYY/MM/DD
逻辑说明
仅能为状态为正常或密码重置的操作员绑定证书，存在待复核申请时不可操作。
绑定页面加载所属机构下全部证书，已绑定证书默认选中，管理员可修改选择。
未修改证书选择时点击保存，系统提示“请修改数据后再保存”。
申请记录生成唯一申请编号，同步生成证书绑定子记录，操作日志按审计规则记录，操作内容为“【用户名】绑定证书申请成功”。
复核通过后，删除原用户证书关联记录，按申请的证书重新生成关联关系。
部门操作员维护-分配权限
功能概述
支持部门管理员在内部客户端为本部门状态为正常或密码重置的操作员分配岗位及权限，分配操作需提交申请并经复核后生效。
状态流转
无
流程分析
部门管理员进入“部门操作员维护”界面，查询并选中一条目标记录。
点击【分配权限】按钮，系统校验是否选中一条记录、用户状态是否为正常或密码重置、是否存在待复核申请。
校验通过后，系统弹出权限分配页，加载用户信息、备选岗位及权限明细。
管理员选择目标岗位，点击【保存】按钮，系统生成分配权限申请记录（状态为待复核），提示“操作成功”。
原型设计
界面输入要素
无
界面输出要素
字段名称
类型
说明
部门名称
文本
长度50字符
用户名
文本
长度30字符
用户姓名
文本
长度30字符
办公电话
文本
长度32字符
手机
文本
长度32字符
用户状态
字典
枚举值：1-正常、2-冻结、3-注销、4-密码重置
备注
文本
长度500字符，页面最多显示20个汉字，超出显示“…”
岗位名称
文本
长度50字符，显示所属部门状态正常且类型为内部的岗位
操作权限树
逻辑说明
仅能为状态为正常或密码重置的操作员分配权限，存在待复核申请时不可操作。
备选岗位显示所属部门状态正常且类型为内部的岗位，权限明细按子系统分组、菜单排序编号升序展示。
申请记录生成唯一申请编号，同步生成用户岗位关联子记录，操作日志按审计规则记录，操作内容为“【用户名】分配权限申请成功”。
复核通过后，删除原用户岗位关联记录，按申请的岗位重新生成关联关系。
部门操作员申请管理
部门操作员申请管理-已复核查询
功能概述
支持部门管理员在内部客户端查询本部门已复核的操作员相关申请记录（申请状态为复核通过）。
状态流转
无
流程分析
1.部门管理员登录系统后，点击用户与权限管理模块下的部门操作员申请管理菜单。
2.选择【已复核】分页，维护查询条件，点击【查询】按钮，系统展示符合条件的已复核申请数据并展示。
原型设计
界面输入要素
字段名称
类型
必填
说明
开始日期
日期
否
格式：yyyy/mm/dd，默认系统当前日期，日历控件
结束日期
日期
否
格式：yyyy/mm/dd，默认系统当前日期，日历控件
申请编号
文本
否
长度20字符，文本框，默认为空
部门名称
文本
否
长度50字符，文本框，支持模糊查询
用户名
文本
否
长度30字符，文本框
用户姓名
文本
否
长度30字符，最多含10个汉字，支持模糊查询
用户类型
文本
否
下拉框，枚举值：2-部门管理员、3-部门操作员、7-直联用户，默认全部勾选
操作类型
字典
否
下拉框，枚举值：1-新增、2-修改、3-注销、4-冻结、5-解冻、6-重置密码、7-绑定证书、8-分配权限，默认全部勾选
申请状态
字典
否
下拉框，枚举值：2-复核通过，不可编辑
界面输出要素
字段名称
类型
说明
申请编号
文本
长度20字符
申请日期
日期
格式：yyyy/mm/dd
操作类型
字典
长度3字符
部门名称
文本
长度50字符
用户名
文本
长度30字符
用户姓名
文本
长度30字符
办公电话
文本
长度32字符
手机
文本
长度32字符
用户类型
字典
长度3字符
用户状态
字典
长度3字符
备注
文本
长度500字符
申请人
文本
长度20字符
申请时间
时间
格式：yyyy/mm/dd hh:mm:ss
复核人
文本
长度20字符
复核时间
时间
格式：yyyy/mm/dd hh:mm:ss
撤销时间
时间
格式：yyyy/mm/dd hh:mm:ss
申请状态
字典
长度3字符，显示“复核通过”
逻辑说明
查询数据需满足数据类型为部门操作员，且申请人所属部门与操作用户一致（仅能查询本部门申请）。
查询结果分页显示，默认按申请日期升序排序，申请日期相同时按申请编号升序排序。
【已复核】分页不显示【复核】和【撤销】按钮，操作日志按审计规则记录，操作内容为“查询已复核的用户申请”。
部门操作员申请管理-待复核查询
功能概述
支持部门管理员在内部客户端查询本部门待复核的操作员相关申请记录（申请状态为待复核、复核拒绝、已撤销）。
状态流转
无
流程分析
1.部门管理员登录系统后，点击用户与权限管理模块下的部门操作员申请管理菜单。
2.选择【待复核】分页，输入查询条件，点击【查询】按钮，系统检索符合条件的待复核申请数据并展示。
3.操作结束后，系统按审计日志规则记录操作行为
原型设计
界面输入要素
字段名称
类型
必填
说明
申请状态
字典
否
下拉框，枚举值：1-待复核、3-复核拒绝、4-已撤销，默认全部勾选
其他字段
同已复核查询
同已复核查询
同已复核查询
界面输出要素
同“已复核查询”界面输出要素
逻辑说明
查询结果排序、分页规则与已复核查询一致。
待复核分页显示【复核】和【撤销】按钮。
操作日志按审计规则记录，操作内容为“查询待复核的用户申请”。
部门操作员申请管理-下载
功能概述
支持部门管理员在内部客户端下载导出已复核或待复核查询结果的申请记录。
状态流转
无
流程分析
1.用户完成已复核或待复核查询后，点击【下载】按钮，系统根据现有查询条件查询后生成excel文件，并提示“下载成功”。
2.操作结束后，系统按审计日志规则记录操作行为
原型设计
界面输入要素
无
界面输出要素
无
逻辑说明
文件名：部门操作员申请信息
部门操作员申请管理-撤销
功能概述
支持部门管理员在内部客户端撤销本人提交的待复核状态的操作员相关申请，非本人提交或非待复核状态申请不可撤销。
状态流转
待复核→ 已撤销
流程分析
操作员在待复核查询结果页面，选择一条本人提交的申请记录，点击【撤销】按钮，系统执行前置校验：
校验申请状态：非“待复核”提示“申请记录状态不可进行撤销操作，请查证后重新操作。”
校验操作用户：非申请人提示“操作用户仅能撤销本人提交的申请。”
校验通过，系统更新申请记录状态为“已撤销”，记录撤销时间及操作人信息
提示“操作成功。”，系统按审计日志规则记录操作行为
原型设计
界面输入要素
无
界面输出要素
系统提示操作成功或错误原因
逻辑说明
无
部门操作员申请管理-录入复核
功能概述
当系统参数为“录入复核”，且申请类型为新增、修改、分配权限、绑定证书时，支持超级管理员、部门操作员通过录入数据完成复核。
状态流转
待复核→ 复核通过/复核拒绝
流程分析
复核人在待复核查询结果页面，选择一条待复核的申请记录，点击【复核】按钮，系统执行前置校验：
校验申请状态：非“待复核”提示“仅能对待复核状态数据进行复核操作，请重新选择记录进行复核操作。”
校验操作用户：与申请人一致提示“不能复核自己提交的申请记录。”
校验通过，系统根据申请操作类型弹出对应录入复核页面：
操作类型为“新增”：页面同新增页面，加载原申请数据
操作类型为“修改”：页面同修改页面，加载修改前数据
复核人重新录入/调整信息
点击【保存】按钮，系统校验录入数据与原申请数据一致性：
不一致：提示“录入复核维护数据与申请数据不一致，复核失败。”，关闭弹窗
一致：系统更新申请记录状态为“复核通过”，记录复核人及复核时间
按申请操作类型执行后续数据处理：
新增申请：创建部门操作员记录
修改申请：更新部门操作员信息
提示“操作成功”，关闭复核页面，系统按审计日志规则记录操作行为
原型设计
界面输入要素
同“新增部门操作员”或“修改部门操作员”的界面输入要素
界面输出要素
系统提示操作成功或错误原因
逻辑说明
无